# 多機能時間管理ウェブアプリケーション要求仕様書

## 1. 文書管理情報

| 項目 | 内容 |
|------|------|
| 文書名 | 多機能時間管理Webアプリケーション(Timebuddy) 要求仕様書 |
| バージョン | 1.0 |
| 作成日 | 2026年1月4日 |
| 最終更新日 | 2026年1月4日 |
| 作成者 | 萬藤・安達・仲野 |
| レビュー担当者 | 田上様 |
| 承認者 | 田上様 |
| ステータス | レビュー中 |

### 1.1 改訂履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|-----------|------|---------|--------|
| 1.0 | 2026年1月4日 | 初版作成 | 萬藤・安達・仲野 |

---

## 2. プロジェクト概要

### 2.1 目的・背景

#### 2.1.1 システム開発の目的
本システムは、日常生活や業務における時間管理の効率化を目的とした、ブラウザベースの統合時間管理ツールです。以下のビジネス価値を提供します。

- **生産性向上**: タスクベースの時間管理により、集中力と作業効率を向上
- **アクセシビリティ**: インストール不要で、あらゆるデバイスから即座に利用可能
- **コスト削減**: 無料で提供することで、広範なユーザー層に時間管理ツールを普及

#### 2.1.2 システム概要
本システムは、ブラウザ上で動作する統合時間管理ツールで、以下の3つの主要機能を単一のインターフェースで提供します。

1. **タイマー機能**: カウントダウン方式の時間計測
2. **アラーム機能**: 指定時刻での通知
3. **ストップウォッチ機能**: 経過時間の計測とラップタイム記録

ユーザーは、直感的なタブ切り替えで各機能を素早く利用できます。

### 2.2 スコープ

#### 2.2.1 対象範囲（In Scope）
本プロジェクトでは、以下の機能・要件を実装対象とします。

- タイマー機能（単一タイマーのカウントダウン）
- アラーム機能（最大5個までの時刻指定アラーム）
- ストップウォッチ機能（ラップタイム記録含む）
- 3機能間のシームレスな切り替えインターフェース
- レスポンシブデザイン（デスクトップ、タブレット、スマートフォン対応）
- ダークモード/ライトモードの切り替え
- 基本的なアクセシビリティ対応（色覚異常への配慮、キーボード操作等）

#### 2.2.2 対象外（Out of Scope）
以下の機能・要件は、本プロジェクトの対象外とします。

- **複数タイマーの同時実行**: 複数のタイマーを同時に動作させる機能
- **タイマープリセット機能**: よく使う時間設定を保存・呼び出す機能
- **クラウド同期**: 異なるデバイス間でのデータ同期
- **ユーザーアカウント管理**: ログイン・認証機能
- **ネイティブアプリ版**: PC・スマートフォン用のネイティブアプリケーション開発
- **統計・分析機能**: 時間の使用履歴や統計データの表示
- **カスタム通知音**: ユーザー独自の音声ファイルのアップロード
- **繰り返しアラーム**: 曜日指定や周期的なアラーム設定
- **タイムゾーン対応**: 複数のタイムゾーンでのアラーム設定

### 2.3 ステークホルダー

#### 2.3.1 プロジェクト関係者

| 役割 | 氏名 | 責任範囲 |
|-----|------|---------|
| プロジェクトオーナー | 田上様 | 要件定義、最終承認 |
| 開発メンバー | 萬藤・安達・仲野 | 設計、実装、テスト |
| レビュアー | 田上様 | 仕様レビュー、品質確認 |

#### 2.3.2 想定ユーザー（ペルソナ）

本システムは、以下のような多様なユーザー層を想定しています。

1. **在宅勤務者**
   - ニーズ: ポモドーロテクニックなどのタスク管理、集中時間の計測
   - 利用シーン: 25分作業/5分休憩のサイクル管理

2. **教育関係者（教師）**
   - ニーズ: 授業時間や各活動の時間制限管理
   - 利用シーン: グループワークの制限時間設定、試験時間の計測

3. **学生**
   - ニーズ: 勉強時間の計測、科目ごとの学習時間管理
   - 利用シーン: 自習時間の測定、休憩時間のアラーム設定

4. **料理愛好家**
   - ニーズ: 調理時間の管理、複数の調理工程の時間計測
   - 利用シーン: パスタの茹で時間、オーブンの加熱時間

5. **一般ユーザー**
   - ニーズ: 日常的な時間管理（目覚まし、リマインダー等）
   - 利用シーン: 朝のアラーム、洗濯機のタイマー代わり

**前提条件**: モダンなWebブラウザの基本操作ができること

---

## 3. 機能要件

### 3.1 共通機能

#### 3.1.1 機能切り替え

**概要**: ユーザーは、タイマー・アラーム・ストップウォッチの3つのモードを切り替えて使用できる。

**詳細仕様**:
- 3つのモード（タイマー、アラーム、ストップウォッチ）を切り替える手段を提供すること
- モード切り替えは、クリック/タップ操作で即座に実行されること
- 現在選択中のモードが視覚的に明確に分かること
- モード切り替え時、どのモードに切り替わったかがユーザーに分かること

**バックグラウンド動作**:
- タイマー: 他のモードに切り替えても、カウントダウンは継続する。残り時間が0になったら通知を発行する
- アラーム: 設定されたアラームは常に監視され、他のモードでも設定時刻になれば通知を発行する
- ストップウォッチ: 計測中に他のモードに切り替えても、バックグラウンドで計測を継続する

**例外処理**:
- ブラウザのタブが非アクティブになった場合でも、バックグラウンドでの動作を継続する
- ただし、ブラウザの省電力機能により、タイマー精度が低下する可能性がある旨を初回起動時に通知する

#### 3.1.2 レスポンシブデザイン

**概要**: デスクトップ、タブレット、スマートフォンの各画面サイズに最適化されたUIを提供する。

**詳細仕様**:
- 最小画面幅320pxから表示可能であること
- ブレークポイント:
  - モバイル: 320px～767px
  - タブレット: 768px～1023px
  - デスクトップ: 1024px以上
- 各画面サイズでボタンのサイズ、配置、フォントサイズを最適化すること
- タッチデバイスでは、ボタンのタップ領域を最低44×44pxとすること（Appleヒューマンインターフェイスガイドライン準拠）

### 3.2 タイマー機能

**目的**: 設定した時間が経過したことを通知する。

#### 3.2.1 時間設定

**概要**: ユーザーは、時・分・秒を指定してタイマーを設定できる。

**詳細仕様**:

**設定可能範囲**:
- 最小: 0時間0分1秒
- 最大: 23時間59分59秒

**時刻設定方法**:
1. **数値入力フィールド**: 時・分・秒をそれぞれ直接入力
   - 入力フィールドは数値のみ受け付ける
   - 範囲外の値は自動的に補正する（例: 70秒 → 1分10秒）
2. **ドロップダウン選択**:時: 0～23、分: 0～59
3. **プリセットボタン**: よく使う時間（1分、5分、10分、25分）をワンタップで設定

**バリデーション**:
- 0時間0分0秒は設定不可とし、開始ボタンが非活性状態
- 非数値文字の入力は無視する
- 入力フォーカスを失った際に、自動的に適切な形式（2桁表示）に整形する

#### 3.2.2 カウントダウン表示

**概要**: 設定した時間からのカウントダウンを視覚的に表示する。

**詳細仕様**:
- 表示形式: 「HH:MM:SS」（例: 01:23:45）
- フォントサイズ: 画面幅の10%以上（最小36px、最大96px）
- 更新頻度: 1秒ごと
- 表示精度: 秒単位

**追加情報の表示**:
- カウントダウン終了予定時刻を「HH:MM」形式で表示（例: 「14:30に終了」）
- 予定時刻は、設定時の現在時刻に設定時間を加算して算出
- 残り時間が1分を切ったら、残り時間表示を視覚的に強調して表示する。

**進捗表示**:
- 残り時間の進捗を視覚的に確認できる表示を行う

#### 3.2.3 タイマー操作

**概要**: タイマーの開始、停止、リセット操作を提供する。

**詳細仕様**:

**開始ボタン**:
- 機能: カウントダウンを開始
- 状態変化: ボタンが「停止」ボタンに切り替わる
- 制約: 0時間0分0秒では開始不可（ボタンを非活性化）

**一時停止ボタン**:
- 機能: カウントダウンを停止
- 状態変化: ボタンが「再開」ボタンに切り替わる
- 動作: 現在の残り時間を保持

**リセットボタン**:
- 機能: 設定した初期時間に戻す
- 活性条件: 停止中のみ活性
- 操作確認: カウントダウン中にリセットする場合、ユーザーに操作の確認を求めること
- 動作: タイマーを停止し、初期設定時間に戻す

**キーボードショートカット**:
- スペースキー: 開始/停止の切り替え
- Rキー: リセット（停止中のみ）

#### 3.2.4 タイマー完了通知

**概要**: カウントダウンが0になった時、ユーザーに通知する。

**詳細仕様**:

**音声通知**:
- 通知音を再生すること
- 音声ファイルは、誰にとっても聞き取りやすく不快感を与えないものを使用すること
- 音量は、ユーザーが事前に設定した音量レベルで再生すること
- ユーザーが通知を認識できるまで、適切な回数リピート再生すること
- 停止方法は、ボタン操作だけでなく、キーボード操作でも停止できるようにすること

**画面通知**:
- タイマーが終了したことを示すメッセージを、視覚的に強調して表示すること
- メッセージは、他の画面要素に埋もれず、ユーザーの注意を引くように表示すること
- 通知表示中は、誤操作を防ぐため、他の操作を制限すること

**ブラウザ通知**:
- Notification APIを使用し、ブラウザの通知機能でも通知を表示
- 通知内容: 「タイマーが終了しました」
- ユーザーが通知を拒否した場合、画面内通知と音声通知のみ実施

**通知後の動作**:
- 通知音停止後、設定画面に戻る
- 「再度開始」ボタンを表示し、同じ時間でのタイマー再実行を容易にする

### 3.3 アラーム機能
- 最大5つまでアラームを設定可能
- 設定したアラームは、有効/無効を選択可能
- 有効化されたアラームは、現在時刻が設定された時刻に到達した時点で、通知を開始
- 無効化されたアラームは、設定時刻になっても音を鳴らさない

#### 3.3.1 アラーム時刻設定
- 24時間表記で、時間と分の単位でアラームが設定できる
- 秒単位の設定は行わない
- アプリが起動している場合、毎日同じ時刻にアラームが作動する

#### 3.3.2 アラーム一覧
- 設定したアラームラベルと時刻、有効/無効、音の種類が表示される
- アラームの追加・削除が可能
- 時刻順（昇順）に表示される

#### 3.3.3 アラーム追加・削除
- 5つまでアラームを登録できる
- ブラウザを閉じても設定が保持される
- アラームを設定するボタンを押して確定
- アラームを1つずつ削除可能
- 時刻（時・分）が一致するアラームも登録可能
- 登録数の上限を超えて追加しようとした場合、エラーメッセージを表示し、その内容は保存されない

#### 3.3.4 アラーム通知
- 音とモーダルで通知される
- 音は5つから選択可能
- 停止・スヌーズ操作が行われるまで音が鳴り続ける
- アラーム鳴動中にページ遷移した場合は、アラームは停止する
- 本アプリは、PCの音量設定に依存する

#### 3.3.5 アラームラベル
- 初期設定は、「アラーム」でラベル表示される
- アラーム名を任意で編集可能
- 全角・半角・アルファベット・数字・記号が入力可能
- 最大入力文字数は20文字まで
- 未入力時は、「アラーム」で登録される

#### 3.3.6 スヌーズ機能
- アラーム起動後スヌーズボタンを押した場合に有効
- 本来の時刻＋10分の時刻に再度アラームが起動する
- スヌーズ間隔は変更不可

#### 3.3.7 アラーム機能にないもの
- 音量調整は不可（PC側の音量で調整）
- ブラウザを閉じた状態での動作は保証しない
- バックグラウンド通知は行わない

### 3.4 ストップウォッチ機能
- 時間を計測出来る機能を持つ
- ユーザーは任意のタイミングで計測の開始・停止を行うことが可能
- 計測中にラップタイムを記録することが可能
- 停止後に計測内容のリセットを行うことが可能
- タブが非表示／非アクティブ状態でも、ブラウザの制限範囲内で計測を継続する

#### 3.4.1 時間計測
- 開始操作が行われた時点から停止操作を行った時点の経過時間を計測する
- アプリ内部の計測単位は『HH：MM：SS.ms（msは3桁）』を計測する
- 停止操作が行われた場合、計測を一時停止し、その後に開始操作を行うと一時停止状態から計測を開始する
- 計測可能範囲：最小00時間00分00秒000ミリ秒・最大９９時間５９分５９秒999ミリ秒
- 最大時間まで計測を行った場合その時点で停止する。

#### 3.4.2 状態
- 初期状態は計測時間が『00：00：00.000』である上にラップタイムの記録もない状態とする
- 状態は初期状態・測定中・停止中の3状態に分かれる
- 状態遷移は「初期状態→計測中→停止中」を基本とする
- 「停止中」時にリセット操作を行うことにより「初期状態」に移行する

#### 3.4.3 ストップウォッチ操作
- 開始操作にて、時間計測を開始する
- 計測中に停止操作が行われた場合：時間計測を停止する
- 計測中に開始操作が行われた場合：状態を変更しない
- 停止中に開始操作が行われた場合：停止時点から計測を再開する
- 停止中に停止操作が行われた場合：状態を変更しない

#### 3.4.4　表示仕様
- 初期状態では計測時間を『00：00：00.00』と表示する
- 計測中は計測時間をリアルタイムで更新・表示する
- ラップタイムは記録を降順に一覧表示する

#### 3.4.5 ラップタイム記録
- 計測中にユーザの任意のタイミングでラップタイム記録操作を行うことで、操作時点の経過時間が記録される
- 最大ラップタイム登録数：100件
- 停止中にラップ操作が行われた場合：記録を行わず操作を無視する
- 100件履歴がある状態でラップタイム記録操作を行った場合：記録を行わず操作を無視し、ユーザーに通知する

#### 3.4.6 リセット操作の挙動
- リセット操作を行うことにより時間・状態・ラップタイム記録が初期状態に戻る
- 初期状態でリセット操作を行った場合：状態は初期状態のままとする

#### 3.4.7ストップウォッチ機能にないもの
- 操作時の音声
- バックグラウンド時の精度低下は許容とする



## 4. 非機能要件

### 4.1 性能要件
- 本アプリは、一般的なPCブラウザ環境において、ユーザー操作に対して遅延を感じさせない速度で動作すること  
- アラーム設定・有効化・無効化・削除などの操作は、即時に画面へ反映されること  
- アラーム通知は、設定時刻に到達した後、速やかに実行されること 

### 4.2 信頼性・可用性

#### 4.2.1 システム可用性
- 本アプリは、ブラウザが起動している間、継続して利用可能であること  
- ブラウザを再読み込みした場合でも、保存されたアラーム設定は復元されること  

#### 4.2.2 データ信頼性
- 保存されたアラーム設定は、ユーザー操作による削除または変更が行われない限り保持されること  
- アラームの有効／無効状態、時刻、ラベル、音の種類は正確に保存・復元されること  

#### 4.2.3 エラーハンドリング
- 不正な操作や想定外の状態が発生した場合でも、アプリが停止しないこと  
- アラーム登録上限（5件）を超える操作が行われた場合、ユーザーに分かりやすいメッセージを表示すること 


### 4.3 ユーザビリティ

#### 4.3.1 直感的操作性
- 初めて利用するユーザーでも、説明を読まずに基本操作が理解できる画面構成とする  
- アラームの追加・編集・削除操作は、迷わず実行できる配置とする  

#### 4.3.2 フィードバック
- ユーザー操作に対して、画面表示の変化やモーダル表示などにより、操作結果が即座に分かること  
- アラームの登録・削除・有効化・無効化時には、状態変化が明確に示されること  

#### 4.3.3 タッチ操作性
- マウス操作に加え、タッチ操作でも主要機能が利用できること  
- ボタンや操作領域は、誤操作が起こりにくいサイズで配置すること 


### 4.4 アクセシビリティ

#### 4.4.1 WCAG準拠レベル
- 本アプリは、WCAG 2.1 の達成基準レベルAを参考に設計する  

#### 4.4.3 色覚異常への配慮
- 色のみで情報を判別させない表示とする  
- 有効／無効などの状態は、色以外の手段（テキスト・アイコン等）でも判別可能とする  

#### 4.4.4 キーボード操作
- マウスを使用できない場合でも、キーボード操作によって主要機能を利用できること 


### 4.5 保守性・拡張性
- 各機能を独立させた構成とし、責務を分担する
- 修正時及び機能追加時には既存機能の変更を最小限に抑えられる構成とする

#### 4.5.1 コード品質
- 命名規則はグループ内で統一する
- 処理内容が不明瞭な際はコメントアウトにて補足を記載する
- 不要な重複コードを避ける
- 各機能のコードに一貫性を持たせる

#### 4.5.2 ドキュメント化
- 主要な処理については概要を文書化する

#### 4.5.3 モジュール化
- ストップウォッチ・タイマー・アラームをそれぞれ独立したモジュールとして構成する
- 共通する処理内容は共通モジュールとして作成する

### 4.6 互換性
- 各機能はお互いに干渉せず、独立して動作する
- １つの機能の操作が他機能の状態に影響を与えない

#### 4.6.1 ブラウザ互換性
- 最新版の主要ブラウザ（firefox,safari,edge,Chrome）で正常に動作を行う
- 特定のブラウザの依存した機能は使用しない

#### 4.6.2 デバイス互換性
- モバイル・タブレット・デスクトップでの利用を想定する
- 全機能がタッチ操作・マウス操作・キーボード操作に対応する

#### 4.6.3 画面解像度
- 一般的なモバイル・タブレット・デスクトップ画面の解像度で表示が崩れない
- 画面サイズに応じたレイアウト調整を行う

### 4.7 セキュリティ
- 外部からの不正なスクリプト実行を防止する
- 想定外の入力に対し安全な動作を行うため、エラー発生時にユーザーに通知を行う
- エラー発生時には開発側で管理できるようエラーログを残す

#### 4.7.1 データプライバシー
- 個人情報を取り扱わない
- 計測したデータはブラウザ内のみで管理される


## 5. 制約条件

### 5.1 技術的制約
- ユーザー認証などのサーバサイドの処理は行わない
- 外部API（異なるソフトウェア）との通信は行わない

#### 5.1.1 使用技術
- 本アプリはHTML・CSS・TypeScriptを用いて実装する
- 実行環境はwebブラウザとする

#### 5.1.2 データストレージ
- ユーザーが設定したデータと計測データはローカルストレージに保存される
- ブラウザのリロードにより、データは初期化されない

### 5.2 開発制約

#### 5.2.1 開発期間
- プロジェクト発足日を2025年12月12日、プロジェクト終了予定日を2026年6月12日とし開発期間を6ヶ月間とする

#### 5.2.2 開発体制
- ３人で開発を行う
- 必要に応じ、開発メンバー以外の第三者によるレビューを実施する

#### 5.2.3 予算
- 本プロジェクトは研修の卒業課題であり、原則として予算は発生しないものとする

#### 5.2.4 開発環境
- 各メンバーの個人PCを使用する

#### 5.2.5 アプリの公開範囲
- 成果物はポートフォリオとして公開することを想定する


## 6. インターフェース要件

### 6.1 ユーザーインターフェース

#### 6.1.1 画面構成

**詳細仕様**:
- 画面上部に3つの機能（タイマー、アラーム、ストップウォッチ）を切り替える手段を提供すること
- 各機能の主要な操作（開始、停止、リセット等）は、明確なボタンで提供すること
- 時刻表示は大きく見やすく表示すること
- ダークモード/ライトモードの切り替えが可能であること
- すべてのインタラクティブ要素は、タッチデバイスでも操作しやすいサイズであること

**注記**: 具体的な画面レイアウト、配色、ボタンデザイン等の詳細は、別途「画面仕様書」に記載する

### 6.2 音声インターフェース

#### 6.2.1 通知音

**詳細仕様**:
- 通知音はフリー素材を使用すること
- 音量調整が可能であること（0%～100%）
- 音声通知のオン/オフを切り替えられること

#### 6.2.2 音量調整

**詳細仕様**:

**音量調整機能**:
- 設定メニューで音量を調節できること
- 範囲: 0%（ミュート）～100%（最大音量）
- デフォルト: 50%
- リアルタイムプレビュー: スライダー操作中に通知音を小さく再生

#### 6.2.3 音声のオン/オフ

**詳細仕様**:

**切り替え方法**:
- 設定メニューでオン/オフが切り替えられること
- 状態: デフォルトはオン

**動作**:
- オフにした場合、すべての音声通知を無効化
- 音量設定は保持され、再度オンにした際に元の音量で再生

**注記**: 使用する音声ファイルの種類、再生仕様等の詳細は、別途「画面仕様書」に記載する

---

## 7. データ要件

### 7.1 保存データ
本アプリでは、以下の設定情報を保存する。

- アラーム時刻（時・分）
- アラームの有効／無効状態
- アラームラベル
- アラーム音の種類
- スヌーズ設定状態
- ダークモード/ライトモード

これらのデータは、ユーザーが設定・変更した内容を正確に保持すること。

### 7.2 データ保存期間
- 保存されたアラーム設定は、ユーザーが削除するまで保持されること  
- ローカルストレージに保存された設定は、ブラウザを再読み込み、または再起動した場合でも、再度アプリ起動時に復元されること
- ブラウザの設定等によりサイトデータ（ローカルストレージ）が削除された場合、保存されたデータは消失する。


## 8. テスト要件

### 8.1 テスト戦略
- 本アプリ（TimeBuddy）の、アラーム・ストップウォッチ・タイマーの各機能が、要求仕様書に基づいて正しく動作することを確認する  
- テストは主に手動テストを中心に実施し、画面操作および動作結果を確認する  
- 正常系を中心に、一部の異常系についても確認を行う  
- 機能単体の動作確認に加え、機能切り替え時の動作も確認対象とする 

### 8.2 テスト項目

#### 8.2.1 機能テスト
以下の観点について、各機能が仕様通りに動作することを確認する。

- アラーム、ストップウォッチ、タイマーの各機能が起動・利用できること  
- 各機能の基本操作（開始、停止、リセット、設定変更など）が正しく動作すること  
- 各機能の設定内容が、ユーザー操作に応じて正しく反映されること  
- 不正な操作や制限を超える操作が行われた場合、想定された挙動となること  
- 機能を切り替えた場合でも、他の機能の動作に影響を与えないこと  
- ブラウザを再読み込みした場合でも、保存対象となる設定が復元されること 

#### 8.2.2 非機能テスト
以下の非機能要件について確認を行う。

- 各機能の操作において、著しい遅延やフリーズが発生しないこと  
- ユーザー操作に対して、画面表示や通知などの適切なフィードバックが行われること  
- キーボード操作のみでも、主要な機能を利用できること  
- 色の違いのみに依存せず、状態や情報が判別できること 

### 8.3 受け入れ基準
以下の条件をすべて満たした場合、本アプリは受け入れ可能と判断する。

- 8.2.1 に記載された機能テスト項目がすべて正常に完了していること  
- 主要な非機能テストにおいて、利用上の問題が発生しないこと  
- アプリ全体として、致命的な不具合が存在しないこと  


## 9. リスク管理

### 9.1 想定されるリスクと対応策

### 9.1.1 技術的リスク
**想定されるリスク**
1. 時間計測の精度がブラウザ依存になる
2. バックグラウンド時の動作制限がある

**対応策**
- 本アプリの仕様として許容とする

### 9.1.2 要件変更リスク
**想定されるリスク**
1. 機能追加・削除の発生
2. UI仕様の後出し変更

**対応策**
- 影響範囲の明確化を行い、グループ内にて相談し了承を得た上で変更を実施する

### 9.1.3 動作環境リスク
**想定されるリスク**
1. ブラウザごとの差異
2. デバイスごとの差異
3. ユーザの使用画面サイズの差異

**対応策**
- 対応範囲を限定し作成する
- 想定範囲外の環境については動作保証外とする  

## 10. 付録

### 10.1 参考資料


### 10.2 改訂予定