# チーム開発における GitHub 運用ルール

## 📋 目次

- [チーム開発における GitHub 運用ルール](#チーム開発における-github-運用ルール)
  - [📋 目次](#-目次)
  - [0. 目的と前提](#0-目的と前提)
    - [🎯 目的 (Purpose)](#-目的-purpose)
    - [✅ 前提 (Prerequisites)](#-前提-prerequisites)
  - [1. 基本方針（絶対ルール）](#1-基本方針絶対ルール)
    - [1-1. main ブランチの扱い](#1-1-main-ブランチの扱い)
    - [1-2. 禁止事項](#1-2-禁止事項)
  - [2. ブランチ運用ルール](#2-ブランチ運用ルール)
    - [2-1. ブランチ構成](#2-1-ブランチ構成)
    - [2-2. ブランチを切るタイミング](#2-2-ブランチを切るタイミング)
    - [2-3. ブランチ命名ルール](#2-3-ブランチ命名ルール)
  - [3. 基本作業フロー（全員共通）](#3-基本作業フロー全員共通)
  - [4. Pull Request（PR）運用ルール](#4-pull-requestpr運用ルール)
    - [4-1. PRの役割](#4-1-prの役割)
    - [4-2. PRテンプレート（必須）](#4-2-prテンプレート必須)
    - [4-3. PR作成時の注意](#4-3-pr作成時の注意)
  - [5. レビュー体制とマージルール](#5-レビュー体制とマージルール)
    - [5-1. レビュー担当](#5-1-レビュー担当)
    - [5-2. 承認ルール](#5-2-承認ルール)
    - [5-3. レビュー〜マージのフロー](#5-3-レビューマージのフロー)
  - [6. 責任者（マージ担当）のチェックリスト](#6-責任者マージ担当のチェックリスト)
    - [マージ前](#マージ前)
    - [マージ後](#マージ後)
  - [7. 複数人同時作業ルール](#7-複数人同時作業ルール)
    - [7-1. 基本思想](#7-1-基本思想)
    - [7-2. 正しいやり方](#7-2-正しいやり方)
  - [8. 同じファイルを複数人で編集する場合](#8-同じファイルを複数人で編集する場合)
    - [8-1. 事前ルール](#8-1-事前ルール)
    - [8-2. マージ順](#8-2-マージ順)
  - [9. コンフリクト対応ルール](#9-コンフリクト対応ルール)
    - [9-1. 方針](#9-1-方針)
    - [9-2. 手順](#9-2-手順)
  - [10. レビューコメント運用ルール](#10-レビューコメント運用ルール)
    - [10-1. レビューの目的](#10-1-レビューの目的)
    - [10-2. 良いコメントの原則](#10-2-良いコメントの原則)
    - [10-3. コメントの強さ](#10-3-コメントの強さ)
    - [10-4. 禁止コメント](#10-4-禁止コメント)
  - [11. レビューされる側のルール](#11-レビューされる側のルール)
  - [12. チーム開発ルールの一言要約](#12-チーム開発ルールの一言要約)
    - [🚀 開発フローの5ステップ](#-開発フローの5ステップ)
  - [📖 凡例（色と記号の意味）](#-凡例色と記号の意味)

---

## 0. 目的と前提

### 🎯 目的 (Purpose)

- 複数人で安全・効率的に開発／ドキュメント作成を進める
- main ブランチの品質を常に保つ
- レビューを通じてチーム全体の理解度と品質を上げる

### ✅ 前提 (Prerequisites)

- Git / GitHub の基本操作は理解している
- 開発・仕様書・README などすべて GitHub で管理する

---

## 1. 基本方針（絶対ルール）

### 1-1. main ブランチの扱い

- ✅ **main は常に正しい状態を保つ**
- ✅ 本番・提出・完成物に相当するもののみ置く

### 1-2. 禁止事項

- ❌ **main に直接 push**
- ❌ **PR を通さないマージ**
- ❌ **複数人で同じブランチを直接編集**

---

## 2. ブランチ運用ルール

### 2-1. ブランチ構成

```
main
├─ feature/*      # 機能追加
├─ docs/*         # ドキュメント
├─ fix/*          # バグ修正
├─ refactor/*     # リファクタリング
└─ chore/*        # 雑務・保守作業・開発環境まわりの変更
```

### 2-2. ブランチを切るタイミング

何か作業を始めるときは必ずブランチを切る：

- 機能追加
- バグ修正
- ドキュメント作成・修正
- リファクタリング

**👉 1作業 = 1ブランチ**

### 2-3. ブランチ命名ルール

**フォーマット:** `<種別>/<内容>`

**例：**
- `feature/login`
- `docs/spec-functional`
- `fix/login-validation`
- `refactor/auth`
- `chore/github-settings`

**💡 ポイント：** 内容が一目で分かる名前にする

---

## 3. 基本作業フロー（全員共通）

1. **最新の main を取得**
   ```bash
   git switch main
   git pull origin main
   ```

2. **ブランチ作成**
   ```bash
   git switch -c feature/xxx
   ```

3. **作業 → commit**
   - 小さく・意味のある単位でコミット

4. **push**
   ```bash
   git push origin feature/xxx
   ```

5. **Pull Request 作成**
   - GitHub上でPRを作成

6. **レビュー対応**
   - 指摘事項に対応・修正

7. **main にマージ**
   - 承認後、mainブランチへマージ

8. **ブランチ削除**
   - マージ完了後、不要ブランチを削除

---

## 4. Pull Request（PR）運用ルール

### 4-1. PRの役割

- 📤 変更内容の共有
- 🔍 品質チェック
- 🛡️ main ブランチの保護

### 4-2. PRテンプレート（必須）

```markdown
## 概要
何を変更したか

## 変更内容
- 具体的な変更点

## 担当範囲
- どこを担当したか

## 確認事項
- レビューしてほしい点
```

### 4-3. PR作成時の注意

- PR は小さく
- 不要な差分を含めない
- タイトルで内容が分かるようにする

---

## 5. レビュー体制とマージルール

### 5-1. レビュー担当

- **必須：実装者以外の2人がレビュー**
- 例）萬藤が実装 → 仲野さんと安達さんがレビュー

### 5-2. 承認ルール

- ✅ 承認 **2人** 必須
- ❌ レビューなしでのマージ禁止

### 5-3. レビュー〜マージのフロー

1. **コードレビュー実施**
   - 実装者以外の**2人**がコードをレビュー

2. **PRコメント記載**
   - レビュー後、PRのコメント欄に**2人がコメント**を記載

3. **修正対応（必要時）**
   - 指摘があれば、実装者が**再プッシュ＆プルリク**で修正

4. **mainへマージ**
   - **安達さん**がmainブランチへマージを実施

---

## 6. 責任者（マージ担当）のチェックリスト

### マージ前

- [ ] 内容に矛盾・抜けがない
- [ ] 目的・仕様として妥当
- [ ] 影響範囲が把握できる
- [ ] PR説明が十分
- [ ] コンフリクトが解消されている

### マージ後

- [ ] main が正しく保たれている
- [ ] 不要ブランチ削除
- [ ] 必要に応じてチーム共有

---

## 7. 複数人同時作業ルール

### 7-1. 基本思想

❌ ~~同時編集~~  
↓  
✅ **並行作業 → 統合**

### 7-2. 正しいやり方

**Aさん** → 別ブランチで作業  
**Bさん** → 別ブランチで作業  
↓  
**PR** を通して  
↓  
**main** に統合

---

## 8. 同じファイルを複数人で編集する場合

### 8-1. 事前ルール

- 編集範囲を明確に分担
- 見出し・構造を先に用意

### 8-2. マージ順

- PR は **1つずつ順番** にマージ
- 後からマージする人は main を取り込む

```bash
git fetch origin
git merge origin/main
```

---

## 9. コンフリクト対応ルール

### 9-1. 方針

- 💡 コンフリクトは**失敗ではない**
- 🧘 落ち着いて意味を壊さず解消する

### 9-2. 手順

1. マーカーを確認
2. 内容を統合・整理
3. マーカー削除
4. commit

---

## 10. レビューコメント運用ルール

### 10-1. レビューの目的

- ダメ出しではなく**品質向上**
- チームで認識を揃える

### 10-2. 良いコメントの原則

**【観点】理由・提案**

- ✓ 具体的
- ✓ 理由がある
- ✓ 改善案 or 選択肢を提示

### 10-3. コメントの強さ

- **Must:** 必ず修正（バグ・矛盾）
- **Should:** 改善推奨
- **FYI:** 参考・将来

### 10-4. 禁止コメント

🚫 抽象的・感情的  
🚫 命令口調  
🚫 目的不明

---

## 11. レビューされる側のルール

- 🤝 指摘は攻撃ではない
- ❓ 分からなければ質問OK
- 💬 修正できない場合は理由を説明
- 🙏 感謝を伝える

---

## 12. チーム開発ルールの一言要約

### 🚀 開発フローの5ステップ

**main を守り** → **作業を分け** → **PR で確認し** → **レビューで対話し** → **順番に統合する**

---

## 📖 凡例（色と記号の意味）

- main / 承認 / 正しいやり方
- feature / 前提 / 情報
- docs / PR / セクション番号
- refactor / 注意 / チェック
- fix / 禁止 / Must
- ブランチ情報 / レビュー担当
- 思想 / レビューされる側

---

**GitHub 運用ルール 完全版 ─ すべての情報を収録**
